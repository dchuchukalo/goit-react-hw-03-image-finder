(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__eIPjM",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1BK0A"}},12:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3KOoV",Modal:"Modal_Modal__2gqy6"}},25:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3K7PX"}},26:function(e,a,t){e.exports={Button:"Button_Button__1SaVj"}},30:function(e,a,t){e.exports={Error:"Error_Error__KppfV"}},31:function(e,a,t){e.exports={App:"App_App__2a3OQ"}},32:function(e,a,t){e.exports=t(63)},62:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(8),c=t.n(o),i=t(14),l=t(2),u=t.n(l),s=t(9),m=t(3),h=t(4),p=t(6),g=t(5),d=t(24),f=t.n(d),y=t(7),b=t.n(y),v=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={inputValue:""},e.handleSubmitForm=function(a){var t=e.props.onSubmit,r=e.state.inputValue;a.preventDefault(),t(r),e.setState({inputValue:""})},e.handleChangeInput=function(a){var t=a.currentTarget;e.setState({inputValue:t.value})},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state.inputValue;return n.a.createElement("header",{className:b.a.Searchbar},n.a.createElement("form",{className:b.a.SearchForm,onSubmit:this.handleSubmitForm},n.a.createElement("button",{type:"submit",className:b.a.SearchFormButton},n.a.createElement("span",{className:b.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChangeInput})))}}]),t}(r.Component);v.ptopTypes={onSubmit:f.a.func.isRequired};var S=v,I=t(11),_=t.n(I),k=function(e){var a=e.imagesArr,t=e.onImageClick;return a.map((function(e){var a=e.id,r=e.webformatURL,o=e.largeImageURL,c=e.pageURL.replace("https://pixabay.com/photos/","");return n.a.createElement("li",{onClick:function(){t(o,c)},className:_.a.ImageGalleryItem,key:a},n.a.createElement("img",{className:_.a.ImageGalleryItemImage,src:r,alt:c}))}))},E=t(25),w=t.n(E),C=function(e){var a=e.imagesArr,t=e.onImageClick;return n.a.createElement("ul",{className:w.a.ImageGallery},n.a.createElement(k,{imagesArr:a,onImageClick:t}))},O=t(26),j=t.n(O),L=function(e){var a=e.onClick;return n.a.createElement("button",{className:j.a.Button,type:"button",onClick:a},"Load more")},x=t(27),A=t(28),N=t.n(A),F=t(10);function B(){var e=Object(x.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return B=function(){return e},e}var G=Object(F.css)(B()),M=function(e){var a=e.isLoading;return n.a.createElement(N.a,{css:G,size:20,color:"#3f51b5",loading:a})},P=t(30),Q=t.n(P),R=function(e){var a=e.text;return n.a.createElement("h2",{className:Q.a.Error},a)},V=t(12),K=t.n(V),D=document.querySelector("#modal-root"),U=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).handleKeyDown=function(a){var t=a.code,r=e.props.onClose;"Escape"===t&&r()},e.handleBackdropClick=function(a){var t=a.target,r=a.currentTarget,n=e.props.onClose;t===r&&n()},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(n.a.createElement("div",{className:K.a.Overlay,onClick:this.handleBackdropClick},n.a.createElement("div",{className:K.a.Modal},e)),D)}}]),t}(r.Component),T=t(13),q=t.n(T);q.a.defaults.baseURL="https://pixabay.com/api/";var J=function(e){var a=e.searchQuery,t=void 0===a?"":a,r=e.currentPage,n=void 0===r?1:r,o=e.perPage,c=void 0===o?12:o;return q.a.get("?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(n,"&per_page=").concat(c,"&key=").concat("16252810-97a93e8d6856e870fd6ba2eb3")).then((function(e){return e.data.hits}))},z=t(31),X=t.n(z),H=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={imagesArr:[],currentPage:1,searchQuery:"",isLoading:!1,error:null,largeImageLink:"",imageName:"",noResults:!1},e.componentDidUpdate=function(){var a=Object(s.a)(u.a.mark((function a(t,r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.searchQuery===e.state.searchQuery){a.next=4;break}return a.next=3,e.fetchImages();case 3:0===e.state.imagesArr.length&&e.setState({noResults:!0});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.onSubmitSearch=function(a){a!==e.state.searchQuery&&e.setState({searchQuery:a,currentPage:1,imagesArr:[],error:null,noResults:!1})},e.onClickLoadMore=Object(s.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.fetchImages();case 2:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 3:case"end":return a.stop()}}),a)}))),e.onImageClick=function(a,t){e.setState({largeImageLink:a,imageName:t})},e.onCloseModal=function(){e.setState({largeImageLink:null})},e.fetchImages=Object(s.a)(u.a.mark((function a(){var t,r,n,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state,r=t.currentPage,n=t.searchQuery,o={currentPage:r,searchQuery:n},e.setState({isLoading:!0,error:null}),a.next=5,J(o).then((function(a){e.setState((function(e){return{imagesArr:[].concat(Object(i.a)(e.imagesArr),Object(i.a)(a)),currentPage:e.currentPage+1}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){e.setState({isLoading:!1})}));case 5:case"end":return a.stop()}}),a)}))),e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state,a=e.imagesArr,t=e.isLoading,r=e.error,o=e.largeImageLink,c=e.imageName,i=e.noResults,l=e.searchQuery,u=a.length>0&&!t;return n.a.createElement("div",{className:X.a.App},o&&n.a.createElement(U,{onClose:this.onCloseModal},n.a.createElement("img",{src:o,alt:c})),n.a.createElement(S,{onSubmit:this.onSubmitSearch}),i&&n.a.createElement(R,{text:"Your search ".concat(l," did not match any image.")}),n.a.createElement(C,{imagesArr:a,onImageClick:this.onImageClick}),n.a.createElement(M,{isLoading:t}),r&&n.a.createElement(R,{text:"Something went wrong. Please try again."}),u&&n.a.createElement(L,{onClick:this.onClickLoadMore}))}}]),t}(r.Component);t(61),t(62);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(H,null)),document.getElementById("root"))},7:function(e,a,t){e.exports={Searchbar:"Serchbar_Searchbar__1Oobe",SearchForm:"Serchbar_SearchForm__2v4JZ",SearchFormButton:"Serchbar_SearchFormButton__kVrXT",SearchFormButtonLabel:"Serchbar_SearchFormButtonLabel__9R4tg",SearchFormInput:"Serchbar_SearchFormInput__392gc"}}},[[32,1,2]]]);
//# sourceMappingURL=main.e4428b8f.chunk.js.map