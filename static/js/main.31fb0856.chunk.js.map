{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Error/Error.module.css","App.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Spinner/Spinner.js","components/Error/Error.js","components/Modal/Modal.js","services/images-api.js","App.js","index.js","components/Searchbar/Serchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleSubmitForm","e","onSubmit","props","preventDefault","setState","handleChangeInput","currentTarget","value","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ptopTypes","PropTypes","func","isRequired","ImageGalleryItem","imagesArr","onImageClick","map","id","webformatURL","largeImageURL","imageName","pageURL","replace","onClick","key","ImageGalleryItemImage","src","alt","ImageGallery","Button","whichPosition","position","css","Spinner","isLoading","size","color","loading","defaultProps","Error","text","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","response","data","hits","App","isLoadingArr","isLoadingImg","error","largeImageLink","noResults","componentDidUpdate","prevProps","prevState","a","fetchImages","length","onSubmitSearch","onClickLoadMore","scrollTo","top","documentElement","scrollHeight","behavior","onCloseModal","onLoadLargeImg","options","imagesApi","catch","finally","shouldRenderloadMoreBtn","onLoad","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31fb0856.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__eIPjM\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1BK0A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3KOoV\",\"Modal\":\"Modal_Modal__2gqy6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3K7PX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1SaVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__KppfV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2a3OQ\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Serchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleSubmitForm = e => {\n    const { onSubmit } = this.props;\n    const { inputValue } = this.state;\n\n    e.preventDefault();\n    onSubmit(inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  handleChangeInput = ({ currentTarget }) => {\n    this.setState({ inputValue: currentTarget.value });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmitForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={this.handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.ptopTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imagesArr, onImageClick }) =>\n  imagesArr.map(({ id, webformatURL, largeImageURL, pageURL }) => {\n    const imageName = pageURL.replace('https://pixabay.com/photos/', '');\n\n    return (\n      <li\n        onClick={() => {\n          onImageClick(largeImageURL, imageName);\n        }}\n        className={styles.ImageGalleryItem}\n        key={id}\n      >\n        <img\n          className={styles.ImageGalleryItemImage}\n          src={webformatURL}\n          alt={imageName}\n        />\n      </li>\n    );\n  });\n\nImageGalleryItem.propTypes = {\n  imagesArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      pageURL: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ imagesArr, onImageClick }) => (\n  <ul className={styles.ImageGallery}>\n    <ImageGalleryItem imagesArr={imagesArr} onImageClick={onImageClick} />\n  </ul>\n);\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button className={styles.Button} type=\"button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ScaleLoader from 'react-spinners/ScaleLoader';\nimport { css } from '@emotion/core';\n\nconst whichPosition = position => {\n  if (position === 'center') {\n    return css`\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    `;\n  }\n\n  if (position === 'bottom') {\n    return css`\n      display: block;\n      margin: 0 auto;\n    `;\n  }\n};\n\nconst Spinner = ({ isLoading, position }) => (\n  <>\n    <ScaleLoader\n      css={whichPosition(position)}\n      size={20}\n      color={'#3f51b5'}\n      loading={isLoading}\n    />\n  </>\n);\n\nSpinner.defaultProps = {\n  position: 'bottom',\n};\n\nSpinner.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  position: PropTypes.string,\n};\n\nexport default Spinner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Error.module.css';\n\nconst Error = ({ text }) => <h2 className={styles.Error}>{text}</h2>;\n\nError.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = ({ code }) => {\n    const { onClose } = this.props;\n\n    code === 'Escape' && onClose();\n  };\n\n  handleBackdropClick = ({ target, currentTarget }) => {\n    const { onClose } = this.props;\n\n    target === currentTarget && onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.element.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\n\nconst key = '16252810-97a93e8d6856e870fd6ba2eb3';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 12 }) => {\n  return axios\n    .get(\n      `?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${perPage}&key=${key}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { Component } from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Spinner from './components/Spinner';\nimport Error from './components/Error';\nimport Modal from './components/Modal';\n\nimport imagesApi from './services/images-api';\n\nimport styles from './App.module.css';\nimport 'modern-normalize/modern-normalize.css';\n\nclass App extends Component {\n  state = {\n    imagesArr: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoadingArr: false,\n    isLoadingImg: false,\n    error: null,\n    largeImageLink: '',\n    imageName: '',\n    noResults: false,\n  };\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      await this.fetchImages();\n      if (this.state.imagesArr.length === 0) {\n        this.setState({ noResults: true });\n      }\n    }\n  };\n\n  onSubmitSearch = searchQuery => {\n    if (searchQuery !== this.state.searchQuery) {\n      this.setState({\n        searchQuery,\n        currentPage: 1,\n        imagesArr: [],\n        error: null,\n        noResults: false,\n      });\n    }\n  };\n\n  onClickLoadMore = async () => {\n    await this.fetchImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onImageClick = (largeImageLink, imageName) => {\n    this.setState({\n      largeImageLink,\n      imageName,\n      isLoadingImg: true,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({\n      largeImageLink: null,\n    });\n  };\n\n  onLoadLargeImg = () => {\n    this.setState({ isLoadingImg: false });\n  };\n\n  fetchImages = async () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoadingArr: true, error: null });\n\n    await imagesApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          imagesArr: [...prevState.imagesArr, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoadingArr: false });\n      });\n  };\n\n  render() {\n    const {\n      imagesArr,\n      isLoadingArr,\n      isLoadingImg,\n      error,\n      largeImageLink,\n      imageName,\n      noResults,\n      searchQuery,\n    } = this.state;\n    const shouldRenderloadMoreBtn = imagesArr.length > 0 && !isLoadingArr;\n\n    return (\n      <div className={styles.App}>\n        {largeImageLink && (\n          <Modal onClose={this.onCloseModal}>\n            <>\n              <Spinner isLoading={isLoadingImg} position=\"center\" />\n              <img\n                onLoad={this.onLoadLargeImg}\n                src={largeImageLink}\n                alt={imageName}\n              />\n            </>\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmitSearch} />\n        {noResults && (\n          <Error text={`Your search ${searchQuery} did not match any image.`} />\n        )}\n        <ImageGallery imagesArr={imagesArr} onImageClick={this.onImageClick} />\n        <Spinner isLoading={isLoadingArr} position=\"bottom\" />\n        {error && <Error text=\"Something went wrong. Please try again.\" />}\n        {shouldRenderloadMoreBtn && <Button onClick={this.onClickLoadMore} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Serchbar_Searchbar__1Oobe\",\"SearchForm\":\"Serchbar_SearchForm__2v4JZ\",\"SearchFormButton\":\"Serchbar_SearchFormButton__kVrXT\",\"SearchFormButtonLabel\":\"Serchbar_SearchFormButtonLabel__9R4tg\",\"SearchFormInput\":\"Serchbar_SearchFormInput__392gc\"};"],"sourceRoot":""}